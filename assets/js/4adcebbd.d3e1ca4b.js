"use strict";(globalThis.webpackChunkALARMiator_Dokumenation=globalThis.webpackChunkALARMiator_Dokumenation||[]).push([[6646],{491:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-3-1024x340-c4332036dd0c40584a4fd18c21b16e91.png"},1736:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-1-73235457ccde14fe5227a93c90eb6565.png"},4511:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-2-1024x97-2e1c035ab8e3a0f3295953524f4447c4.png"},6163:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/image-5-1024x724-e967bee0ed5e6c63f1d559d187a470bd.png"},8369:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>m,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"anbindungvonbosmon/index","title":"Anbindung von BosMon","description":"Vielen Dank an Josh aus der ALARMiator Community f\xfcr die hervorragende Zusammenstellung dieses Guides.","source":"@site/docs/anbindungvonbosmon/index.md","sourceDirName":"anbindungvonbosmon","slug":"/anbindungvonbosmon","permalink":"/ALARMiator-Documentation/docs/anbindungvonbosmon","draft":false,"unlisted":false,"editUrl":"https://github.com/alarmiator/ALARMiator-Documentation/edit/main/docs/anbindungvonbosmon/index.md","tags":[],"version":"current","frontMatter":{"title":"Anbindung von BosMon","slug":"/anbindungvonbosmon"},"sidebar":"serverSidebar","previous":{"title":"Alarmierung mit BosMon","permalink":"/ALARMiator-Documentation/docs/alarmierung-mit-bosmon"},"next":{"title":"Manuelle Alarmierung ausl\xf6sen","permalink":"/ALARMiator-Documentation/docs/manuellealarmierungauslsen"}}');var t=i(4848),s=i(8453);const a={title:"Anbindung von BosMon",slug:"/anbindungvonbosmon"},d="Anbindung von BosMon",o={},l=[];function u(e){const n={a:"a",br:"br",code:"code",h1:"h1",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"anbindung-von-bosmon",children:"Anbindung von BosMon"})}),"\n",(0,t.jsxs)(n.p,{children:["Vielen Dank an ",(0,t.jsx)(n.a,{href:"https://community.alarmiator.de/u/josh/summary",children:"Josh"})," aus der ALARMiator Community f\xfcr die hervorragende Zusammenstellung dieses Guides."]}),"\n",(0,t.jsx)(n.p,{children:"Bitte beachte, dass zur Nutzung dieser Funktion eine vollwertige, kostenpflichtige Bosmon-Version notwendig ist, da nur dort die Ereignisfunktion \u201eProgramm ausf\xfchren\u201c genutzt werden kann."}),"\n",(0,t.jsx)(n.p,{children:"Zus\xe4tzlich m\xfcssen in den Konfigurationen der Bosmon-Instanz die Alarmierungs-Daten so bearbeitet werden, dass diese die Meldungen korrekt nach den Adressen sowie Stichw\xf6rtern aufschl\xfcsselt so wie hier:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(1736).A+"",width:"718",height:"345"})}),"\n",(0,t.jsxs)(n.p,{children:["Eine genaue Erkl\xe4rung dieser Einstellungen ist innerhalb der Dokumentation von Bosmon ersichtlich: ",(0,t.jsx)(n.a,{href:"https://www.bosmon.de/doc/bosmon/1.5/cfg/adresse.html",children:"https://www.bosmon.de/doc/bosmon/1.5/cfg/adresse.html"})]}),"\n",(0,t.jsx)(n.p,{children:"Um die spezifischen Variablen der Meldung nun zum ALARMiator-Server zu \xfcbertragen, nutzen wir eine sogenannte Batchdatei. Diese wird einfach mittels eines Texteditors deiner Wahl erstellt und anschlie\xdfend mit der Endung \u201e.bat\u201c gespeichert."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(4511).A+"",width:"1024",height:"97"})}),"\n",(0,t.jsx)(n.p,{children:"Der Inhalt dieser Textdatei enth\xe4lt dabei folgenden Code:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'@echo off\ncurl -G "https://{{example.com}}/api/operations/sendAlarm" --data-urlencode\n"token={{deintoken}}" --data-urlencode "subject=%~1" --data-urlencode "ils=Leitstelle"\n--data-urlencode "location=%~3" --data-urlencode "street=%~2" --data-urlencode\n"lat=%~4" --data-urlencode "lon=%~5" --data-urlencode "zveis=%~6"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Hier wird https benutzt und mit /api/ wird implizit die Nutzung unseres Standardsetups mit Reverse Proxy vorrausgesetzt. Solltest du diesen nicht benutzen musst du selber deinen Api Port entsprechend deiner Konfiguration ansprechen. Wir empfehlen wie immer deutlich die Nutzung von HTTPS!"}),"\n",(0,t.jsx)(n.p,{children:"Die in {{ }} geschriebene Inputs sind dabei f\xfcr deinen Server entsprechend abzu\xe4ndern.\nDie IP enth\xe4lt die \xfcbliche Server-Adresse und das Token muss vorab im ALARMiator Adminmen\xfc unter \u201eAPI-Token\u201c angelegt werden."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(491).A+"",width:"1024",height:"340"})}),"\n",(0,t.jsxs)(n.p,{children:["Die jeweiligen Variablen werden dabei durch Platzhalter mit der Nummerierung z.B. \u201e%~1\u201c \xfcbergeben. Dies kann je nach Konfiguration der Einstellungen jedoch beliebig abge\xe4ndert werden. Die genaue Aufschl\xfcsselung dieser Platzhalter wird dabei in Bosmon direkt erledigt, was",(0,t.jsx)(n.br,{}),"\n","im folgenden noch erl\xe4utert wird. Zus\xe4tzlich k\xf6nnen ebenso weitere Variablen in der Batchdatei \xfcbergeben werden, welche hier aufgelistet sind:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://community.alarmiator.de/t/neu-alarmierung-ueber-rest-api/102/11",children:"https://community.alarmiator.de/t/neu-alarmierung-ueber-rest-api/102/11"})}),"\n",(0,t.jsx)(n.p,{children:"Bei einem Eingang einer entsprechend neuen Meldung muss dazu in Bosmon unter den Ereignissen ein neues Event angelegt werden, welches den \xdcbergabeprozess startet. Dazu werden zun\xe4chst die jeweiligen Filter gesetzt sowie als Aktion ein Programm ausgef\xfchrt."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(6163).A+"",width:"1024",height:"724"})}),"\n",(0,t.jsx)(n.p,{children:"Das Programm zum Ausf\xfchren muss dabei auf den Pfad der Batchdatei deuten. Im Beispiel oben lautet der Pfad:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'"C:\\Users\\XXX\\Desktop\\Systemstart\\BosMon\\Send_to_ALARMiator.bat"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Mit diesem Ereignis wird die Batchdatei aufgerufen. Nun m\xfcssen jedoch noch die ausgewerteten Variablendaten \xfcbergeben werden. Dies wird dabei ebenfalls im Pfad der Ereignisdatei hinterlegt. Im Beispiel wird an den o.g. Pfad somit die folgende Zusatzinfo mit einer Leerstelle getrennt eingetragen:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'"C:\\Users\\XXX\\Desktop\\Systemstart\\BosMon\\Send_to_ALARMiator.bat"\n"%stichwort.kurz%",\n"%koordinaten.strasse% %koordinaten.hausnummer%",\n"%koordinaten.stadt%",\n"%koordinaten.latitude%",\n"%koordinaten.longitude%",\n"%telegramm.adresse%\u201c\n'})}),"\n",(0,t.jsx)(n.p,{children:"Je nachdem, an welcher Stelle die Variable hier angeordnet ist, wird sie auch in der Batchdatei bei der \xdcbertragung eingepflegt. Das Stichwort kurz wird an der 1. Stelle unter dem \u201eSubject\u201c \xfcbertragen, die \u201elocation=%~3\u201c steht oben an der dritten Stelle der Variablen, welche immer mit einem Komma getrennt werden m\xfcssen. Die Strasse und die Hausnummer werden direkt in einer Variable \xfcbergeben, um mehrere Platzhalter zu erm\xf6glichen."}),"\n",(0,t.jsxs)(n.p,{children:["Die in der \u201e%telegramm.adresse%\u201c hinterlegte Schleifennummer muss zus\xe4tzlich im ALARMiator-Server als Schleife hinterlegt sein (",(0,t.jsx)(n.a,{href:"schleifenanlegen",children:"Schleifen anlegen Doku"}),") sowie ein Alarmierungsprofil daf\xfcr erstellt werden (",(0,t.jsx)(n.a,{href:"alarmierungsprofileanlegen",children:"Doku Alarmierungsprofil"}),"), welche die jeweilige Gruppe per ALARMiator alarmiert. Die zu \xfcbermittelnden Daten an die Einsatzkr\xe4fte auf Schleifenebene kann nat\xfcrlich im ALARMiator in der Alarmdatenmatrix eingestellt werden (",(0,t.jsx)(n.a,{href:"alarmdatenmatrixeinstellen",children:"Doku Alarmdatenmatrix"}),"), um die Menge an eingehenden Einsatzinfos und die Menge an \xfcbermittelten Einsatzinfos an Einsatzkr\xe4fte einzustellen."]}),"\n",(0,t.jsx)(n.p,{children:"Um die Karten- sowie Navigationsfunktion nutzen zu k\xf6nnen ist es wichtig, dass in Bosmon direkt die Adresserkennung aktiviert ist und ordnungsgem\xe4\xdf funktioniert. Dabei werden die ausgewerteten Adressdaten als Koordinaten \xfcbergeben (im oberen Beispiel latitude sowie longitude), welche im ALARMiator-Server dann weiter verarbeitet werden."}),"\n",(0,t.jsx)(n.p,{children:"Insgesamt k\xf6nnen bis zu neun Variablen von Bosmon an den ALARMiator-Server \xfcbergeben werden. Eine genaue Liste aller m\xf6glichen Variablen in Bosmon ist hier ersichtlich:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.bosmon.de/doc/bosmon/1.5/howto/variablen.html",children:"https://www.bosmon.de/doc/bosmon/1.5/howto/variablen.html"})}),"\n",(0,t.jsx)(n.p,{children:"Ob die \xdcbertragung problemlos funktioniert, kann mittels einer Testalarmierung \xfcber das Zusatzprogramm \u201eBosmonDial\u201c gepr\xfcft werden. Dort einfach einen bekannten Meldungstext und die zu testende Schleife manuell eintragen und testweise alarmieren lassen."})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>d});var r=i(6540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);